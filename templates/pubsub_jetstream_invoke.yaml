apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: {{ .Values.application.name }}-pubsub-jetstream-invoke
spec:
  type: pubsub.jetstream
  version: v1
  metadata:
    - name: natsURL
      value: {{ .Values.nats.url | quote}}
    - name: jwt
      value: {{ .Values.nats.jwt | quote}}
    - name: seedKey
      value: {{ .Values.nats.seedKey | quote}}
    - name: durableName
      value: "k8s-{{ .Values.application.name }}-consumer"
    - name: queueGroupName
      value: "k8s-{{ .Values.application.name }}-queue"
scopes:
  - {{ .Values.application.name }}
